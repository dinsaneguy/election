<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Election Poster</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="assets/content.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #e7e3e3;
        }

        .poster {
            position: relative;
            width: 600px;
            background: linear-gradient(65deg, #014d1c 50%, transparent 50%);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .top-banner {
            display: flex;
            justify-content: space-around;
            background: red;
            color: white;
            font-weight: bold;
            padding: 10px;
        }

        .content {
            display: flex;
            position: relative;
        }

        .left-section {
            width: 80%;
            padding: 20px;
            color: white;
            text-align: left;
            position: relative;
        }

        .vote-box {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .vote-box img {
            width: 40px;
        }

        .contact-box {
            background: white;
            width: 50%;
            padding: 10px;
            margin-top: 10px;
            text-align: center;
            border-radius: 5px;
        }

        .contact-number {
            color: red;
            font-weight: bold;
        }

        .contact-name {
            color: black;
            font-weight: bold;
        }

        .college-info {
            margin-top: 2%;
        }

        .right-section {
            position: relative;
            width: 20%;
            text-align: center;
        }

        #candidate-img {
            width: 240px;
            position: absolute;
            top: 50%;
            left: 80%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            z-index: 1;
        }

        #h1class{
            color: white;
        }

        .red-banner {
            position: absolute;
            bottom: 20px;
            left: -120%;
            transform: translateX(12%);
            background: red;
            color: white;
            padding: 10px;
            font-size: small;
            text-align: center;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: grab;
            border-radius: 5px;
            z-index: 2;
        }

        .red-banner:active {
            cursor: grabbing;
        }

        .red-banner img {
            width: 70px;
            height: 40px;
        }

        .watermark {
            position: absolute;
            left: 0%;
            top: 10%;
            background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYqwKOPYhpDbhw_hvAKyFifYmKO6DG4DXsog&s') no-repeat center;
            background-size: contain;
            opacity: 0.1;
            width: 60%;
            height: 50%;
        }

        .resize-handle {
            width: 10px;
            height: 10px;
            background-color: rgb(255, 255, 255);
            position: absolute;
            bottom: 0;
            right: 0;
            cursor: se-resize;
            z-index: 3;
        }

        .download-buttons {
    display: flex;
    flex-direction: column; /* Stack elements vertically */
    gap: 10px; /* Space between elements */
    margin: 20px; /* Margin around the buttons */
    padding: 15px; /* Padding inside the buttons container */
    background-color: rgba(255, 255, 255, 0.9); /* Light background for contrast */
    border-radius: 8px; /* Rounded corners */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Subtle shadow for depth */
}

.download-buttons input[type="file"] {
    max-width: 100%; /* Allow it to take full width */
    padding: 8px; /* Add some padding for better visuals */
    margin-top: 10px; /* Add margin for spacing */
    border: 1px solid #ccc; /* Optional: Add a border for better visibility */
    border-radius: 5px; /* Optional: Rounded corners */
}
.download-buttons button,#image-upload {
    background-color: #007bff; /* Button background color */
    color: white; /* Button text color */
    border: none; /* Remove default border */
    border-radius: 5px; /* Rounded corners for buttons */
    cursor: pointer; /* Pointer cursor on hover */
    transition: background-color 0.3s; /* Smooth transition for hover effect */
}

.download-buttons button:hover {
    background-color: #0056b3; /* Darker shade on hover */
}


        .image-upload {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 5px 10px;
            cursor: pointer;
        }

    </style>
</head>

<body>
    <div class="poster" id="poster">
        <div class="top-banner">
            <span>राष्ट्रियता !!</span>
            <span>लोकतन्त्र !!</span>
            <span>समाजवाद !!</span>
            <span>विद्यार्थी एकता !!</span>
        </div>
        <div class="content">
            <div class="left-section">
                <div class="vote-box">
                    <!-- <img src="" alt="Vote" id="vote-icon"> -->
    <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="40" height="40" style="shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd" viewBox="0 0 6.827 6.827"><defs><style>.fil1{fill:#de8887}.fil7{fill:#de8989}.fil16{fill:#e09090}.fil17{fill:#e39b9a}.fil3{fill:#e5a5a5}.fil6{fill:#e8abab}.fil2{fill:#e8acac}.fil14{fill:#eab4b4}.fil10{fill:#ebbcbc}.fil19{fill:#ebbdbd}.fil5{fill:#ecc0bf}.fil18{fill:#edc1c1}.fil20{fill:#f0c7c7}.fil23{fill:#f0c9c8}.fil24{fill:#f0cccc}.fil26{fill:#f2d3d3}.fil36{fill:#b04a4a;fill-rule:nonzero}</style></defs><g id="Layer_x0020_1"><g id="_446778248"><path id="_446783360" d="M3.413.103a3.31 3.31 0 1 1 0 6.62 3.31 3.31 0 0 1 0-6.62z" style="fill:#e08e8e"/><path id="_446782976" class="fil1" d="M.848 1.35.84 1.332c.008-.01.015-.02.023-.028l-.014.044z"/><path id="_446783312" class="fil2" d="m.103 3.424.074.129-.056.202a3.348 3.348 0 0 1-.018-.331z"/><path id="_446781992" class="fil3" d="m.177 3.553-.074-.13v-.01c0-.052.002-.104.004-.155l.07.295z"/><path id="_446782568" d="m1.188 5.863.776-.144-.09.625a3.318 3.318 0 0 1-.686-.48z" style="fill:#efc6c6"/><path id="_446782544" class="fil5" d="m.878 5.54.57-2.232.516 2.411-.776.144c-.11-.1-.214-.208-.31-.322z"/><path id="_446782520" class="fil6" d="M1.447 3.308.2 2.618c.019-.078.041-.156.066-.232l1.254-.278-.073 1.2z"/><path id="_446782448" class="fil7" d="m.84 1.333.008.016-.025.004.016-.02z"/><path id="_446782328" d="m.823 1.353.025-.004-.185.222c.05-.075.104-.147.16-.218z" style="fill:#e19797"/><path id="_446782376" d="m.663 1.571.185-.222.672.76-1.254.277c.095-.291.23-.565.397-.815z" style="fill:#e4a0a0"/><path id="_446782040" class="fil2" d="m.177 3.553-.07-.295c.01-.22.042-.433.093-.64l1.247.69-1.27.245z"/><path id="_446782592" class="fil10" d="m.207 4.238 1.24-.93-.57 2.233a3.3 3.3 0 0 1-.67-1.303z"/><path id="_446782352" d="m.12 3.755.057-.202 1.27-.245-1.24.93a3.298 3.298 0 0 1-.086-.483z" style="fill:#eab6b6"/><path id="_446782616" style="fill:#ecbebe" d="M2.79 4.642 1.447 3.308l.888-.257z"/><path id="_446781296" style="fill:#e7a9a9" d="m2.335 3.05-.815-.942.568-.979z"/><path id="_446781824" class="fil14" d="m1.447 3.308.073-1.2.815.943z"/><path id="_446781176" d="m4.67 2.622-.661-1.187 1.14-.84c.048.03.095.06.141.092l-.62 1.935z" style="fill:#e49e9e"/><path id="_446781680" class="fil16" d="m.848 1.35.014-.045a3.33 3.33 0 0 1 .565-.54l.66.364-1.239.22z"/><path id="_446781392" class="fil17" d="M1.52 2.108.848 1.35l1.24-.22z"/><path id="_446781536" class="fil7" d="M2.088 1.129 1.427.766c.2-.151.42-.28.652-.383l.009.746z"/><path id="_446781488" class="fil18" d="m1.964 5.72-.517-2.412L2.79 4.642z"/><path id="_446781200" class="fil19" d="m4.35 4.324-.868-.588L4.67 2.622z"/><path id="_446781560" class="fil20" d="m1.874 6.344.09-.625.602.895a3.29 3.29 0 0 1-.692-.27z"/><path id="_446781728" style="fill:#eab1b0" d="m3.482 3.736.527-2.301.66 1.187z"/><path id="_446780720" d="M2.088 1.129 2.079.383c.116-.05.235-.095.357-.133l1.087.23-1.435.649z" style="fill:#df8c8c"/><path id="_446780552" class="fil5" d="m2.79 4.642-.455-1.591 1.147.685z"/><path id="_446780888" class="fil23" d="m3.627 6.662-1.663-.943.826-1.077z"/><path id="_446780672" class="fil24" d="m2.566 6.614-.602-.895 1.663.943-.118.06a3.369 3.369 0 0 1-.943-.108z"/><path id="_446780408" class="fil14" d="m3.482 3.736-1.147-.685L4.01 1.435z"/><path id="_446781128" class="fil3" d="M2.335 3.05 2.088 1.13l1.92.306z"/><path id="_446781032" style="fill:#e19595" d="m4.009 1.435-1.921-.306L3.523.48z"/><path id="_446780864" class="fil26" d="m3.51 6.722.117-.06.026.053a3.342 3.342 0 0 1-.144.007z"/><path id="_446780576" style="fill:#f1cfce" d="m3.627 6.662-.837-2.02 1.467 1.652z"/><path id="_446780936" class="fil23" d="M4.257 6.294 2.79 4.642l1.56-.318z"/><path id="_446780600" d="m3.653 6.715-.026-.053.63-.368-.039.33a3.303 3.303 0 0 1-.565.09z" style="fill:#f3d6d5"/><path id="_446779856" class="fil18" d="m2.79 4.642.692-.906.867.588z"/><path id="_446779784" class="fil16" d="M4.009 1.435 3.523.48 4.878.444c.093.046.184.097.272.151l-1.141.84z"/><path id="_446780216" class="fil24" d="m4.257 6.294.092-1.97.971.636z"/><path id="_446780168" class="fil1" d="M3.523.48 2.436.25l.132-.038 2.177.17c.045.02.089.04.133.062L3.523.48z"/><path id="_446780096" d="M5.775 5.732 5.32 4.96l.672-.734.096 1.137c-.095.13-.2.254-.313.37z" style="fill:#f0caca"/><path id="_446780072" style="fill:#eec4c4" d="m5.32 4.96-.97-.636 1.642-.098z"/><path id="_446779904" d="M5.992 4.226 4.67 2.622l1.412-1.166c.054.073.105.148.152.225l-.242 2.545z" style="fill:#e9aeae"/><path id="_446779952" class="fil17" d="M4.67 2.622 5.29.687c.305.21.573.47.792.769L4.67 2.622z"/><path id="_446779928" class="fil26" d="m4.961 6.34-.704-.046L5.32 4.96l.455.773a3.322 3.322 0 0 1-.814.606z"/><path id="_446779664" class="fil10" d="m4.35 4.324.32-1.702 1.322 1.604z"/><path id="_446779616" d="m4.218 6.625.039-.33.704.044c-.232.124-.481.22-.743.286z" style="fill:#f4dada"/><path id="_446779496" d="m3.918.142-1.124.02a3.327 3.327 0 0 1 1.124-.02z" style="fill:#dc7e7e"/><path id="_446779424" d="M4.745.382 2.568.212a3.3 3.3 0 0 1 .226-.05l1.124-.02c.29.044.567.126.827.24z" style="fill:#de8787"/><path id="_446779136" class="fil6" d="m5.992 4.226.242-2.545c.304.493.481 1.071.489 1.69l-.731.855z"/><path id="_446779304" d="m5.992 4.226.73-.854.001.041c0 .224-.022.443-.065.655l-.666.158z" style="fill:#eab0b0"/><path id="_446778992" class="fil20" d="m6.088 5.363-.096-1.137.488.435c-.102.25-.234.486-.392.702z"/><path id="_446779256" class="fil19" d="m6.48 4.66-.488-.434.666-.158a3.29 3.29 0 0 1-.178.593z"/><path id="_446778872" class="fil36" d="M3.413 0c.943 0 1.796.382 2.414 1 .618.617 1 1.47 1 2.413 0 .943-.382 1.796-1 2.414-.618.618-1.471 1-2.414 1a3.403 3.403 0 0 1-2.413-1 3.403 3.403 0 0 1-1-2.414C0 2.471.382 1.617 1 1c.617-.618 1.47-1 2.413-1zm2.268 1.146a3.196 3.196 0 0 0-2.268-.94c-.885 0-1.687.36-2.267.94-.58.58-.94 1.382-.94 2.267 0 .886.36 1.687.94 2.268.58.58 1.382.939 2.267.939.886 0 1.687-.36 2.268-.94.58-.58.939-1.381.939-2.267 0-.885-.36-1.687-.94-2.267z"/></g><g id="_446777456"><path id="_446778632" class="fil36" d="M5.413 3.168v.356h-4v-.356h4zm0 .447v1.589c0 .05-.04.09-.09.09H1.504a.09.09 0 0 1-.09-.09v-1.59h4z"/><path id="_446778536" d="m3.772 1.553.456.455a.068.068 0 0 1-.004.1l-.75.744a.068.068 0 0 1-.054.02h-.308v.001a.068.068 0 0 1-.044-.016l-.35-.248a.068.068 0 0 1-.004-.107l.962-.95a.068.068 0 0 1 .096 0zm-.017.6-.167-.167.124-.124.028.028-.09.09.037.037.084-.084.028.028-.084.084.046.046.093-.094.028.029-.127.127zm-.105.105-.139-.14-.05.05-.028-.028.133-.133.028.029-.049.049.139.139-.034.034zm-.308.143a.15.15 0 0 1-.036-.05.112.112 0 0 1-.007-.039c0-.013.002-.025.007-.037a.13.13 0 0 1 .029-.042.11.11 0 0 1 .082-.036c.03 0 .059.014.086.041.027.027.04.056.041.086a.11.11 0 0 1-.036.081.111.111 0 0 1-.082.037.122.122 0 0 1-.084-.041zm-.214.045.166.081-.083-.164.036-.036.107.227-.036.036-.227-.108.037-.036zm.34-.174c-.02-.019-.039-.029-.056-.03a.06.06 0 0 0-.048.02.06.06 0 0 0-.02.047c.002.018.012.037.031.056.019.02.038.029.056.03a.06.06 0 0 0 .048-.019.06.06 0 0 0 .019-.047c-.001-.019-.012-.037-.03-.057z" style="fill:#b04a4a"/><path id="_446778104" class="fil36" d="m2.37 2.285-.004.003z"/><path id="_446778344" class="fil36" d="M2.943 2.873c-.037-.024-.086-.058-.11-.072a271.3 271.3 0 0 1-.167-.118.159.159 0 0 1-.037-.221c.014-.02.01-.013.021-.025l.177-.174H2.43l-.063.025-.896.79h3.887l-.9-.793c-.004-.003-.06-.022-.06-.022h-.2l-.522.518-.103.092h.487v.09H2.768v-.09h.175z"/><path id="_446778464" class="fil36" d="M2.429 2.263"/></g></g></svg>
                    <p>स्ववियु निर्वाचन २०८१ <br>स्ववियु सदस्यका लागि</p>
                </div>
                <h1 class="nepali_name">नाम याहा</h1>
                <div class="contact-box">
                    <p class="contact-number" >
                        <img src="https://img.icons8.com/?size=100&id=I24lanX6Nq71&format=png&color=000000" height="20px" id="contimg">
                        +977 98XXXXXXXX</p>
                        <p class="contact-name" >
                            
                            <img src="https://img.icons8.com/?size=100&id=118497&format=png&color=000000" height="20px" id="contimg">
                        Name of Candidate</p>
                </div>
                <p class="college-info" >
                    नेपाल विद्यार्थी संघ<br>
                    मेची बहुमुखी क्याम्पस<br>
                    भद्रपुर, झापा
                </p>
                <div class="watermark"></div>
            </div>
            <div class="right-section">
                <div class="red-banner" id="draggable-banner">
                    <p >परिवर्तनका लागि विद्यार्थी<br>विद्यार्थीका लागि ने. वि. संघ</p>
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYqwKOPYhpDbhw_hvAKyFifYmKO6DG4DXsog&s" alt="NEBI Logo" id="nebi-logo">
                </div>
            </div>
        </div>
        <!-- Candidate image outside of right section and draggable -->
        <img src="assets/candidates.png" alt="Candidate" id="candidate-img">
        <div class="resize-handle" id="resize-handle"></div>
    </div>

    <!-- Image upload button -->
    

    <div class="download-buttons">
        <button id="download-jpg">Download as JPG</button>
        <button id="download-pdf">Download as PDF</button>
        Input your name: <input type="text" id="candname">
        
        <!-- Choose Image button -->
        Input your name in Nepali: <input type="text" id="candname-nepali">
        
        Input your phone: <input type="number" id="candphone">
        On top Left Click to upload your image <input type="file" id="image-upload" class="image-upload" accept="image/*">
        <button type="submit">Submit</button>
    </div>

    <script>
        // Draggable functionality for candidate image
        const candidateImg = document.getElementById("candidate-img");
        let isDragging = false;

        candidateImg.addEventListener("mousedown", (e) => {
            isDragging = true;
            let offsetX = e.clientX - candidateImg.getBoundingClientRect().left;
            let offsetY = e.clientY - candidateImg.getBoundingClientRect().top;

            function onMouseMove(event) {
                if (!isDragging) return;
                let x = event.clientX - offsetX;
                let y = event.clientY - offsetY;

                candidateImg.style.left = x + "px";
                candidateImg.style.top = y + "px";
            }

            function onMouseUp() {
                isDragging = false;
                document.removeEventListener("mousemove", onMouseMove);
                document.removeEventListener("mouseup", onMouseUp);
            }

            document.addEventListener("mousemove", onMouseMove);
            document.addEventListener("mouseup", onMouseUp);
        });

        // Resizable functionality for candidate image
        const resizeHandle = document.getElementById("resize-handle");

        resizeHandle.addEventListener("mousedown", (e) => {
            e.preventDefault();
            let startX = e.clientX;
            let startWidth = candidateImg.offsetWidth;

            function onMouseMove(event) {
                const newWidth = startWidth + (event.clientX - startX);
                candidateImg.style.width = newWidth + "px";
            }

            function onMouseUp() {
                document.removeEventListener("mousemove", onMouseMove);
                document.removeEventListener("mouseup", onMouseUp);
            }

            document.addEventListener("mousemove", onMouseMove);
            document.addEventListener("mouseup", onMouseUp);
        });

// Add this code inside the <script> tag

// Submit button functionality
document.querySelector('button[type="submit"]').addEventListener('click', function() {
    // Get the input values
    const nameInput = document.getElementById('candname').value;
    const phoneInput = document.getElementById('candphone').value;
    const nameInput_nepali = document.getElementById('candname-nepali').value;

    // Update the contact name and number
    const contactNameElement = document.querySelector('.contact-name');
    const contactNumberElement = document.querySelector('.contact-number');
    const NepaliElement = document.querySelector('.nepali_name');

    if (nameInput) {
        contactNameElement.textContent = nameInput;
    }
    if (nameInput_nepali) {
        NepaliElement.textContent = nameInput_nepali;
    }

    if (phoneInput) {
        contactNumberElement.textContent = `+977 ${phoneInput}`;
    }
});

        // Image upload functionality
        document.getElementById('image-upload').addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (event) {
                    candidateImg.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        // Download as JPG
       // document.getElementById('download-jpg').addEventListener('click', function () {
            // html2canvas(document.getElementById("poster")).then(function (canvas) {
                // const link = document.createElement('a');
                // link.href = canvas.toDataURL("image/jpeg");
                // link.download = "election_poster.jpg";
                // link.click();
            // });
        // });

        // Download as PDF
        // document.getElementById('download-pdf').addEventListener('click', function () {
        //     const { jsPDF } = window.jspdf;
        //     const doc = new jsPDF();
        //     html2canvas(document.getElementById("poster")).then(function (canvas) {
        //         const imgData = canvas.toDataURL('image/png');
        //         doc.addImage(imgData, 'PNG', 10, 10, 180, 160);
        //         doc.save("election_poster.pdf");
        //     });
        // });

        // Download as JPG
document.getElementById('download-jpg').addEventListener('click', function () {
    html2canvas(document.getElementById("poster")).then(function (canvas) {
        const link = document.createElement('a');
        link.href = canvas.toDataURL("image/jpeg");
        link.download = "election_poster.jpg";
        link.click();
    });
});

// Download as PDF
document.getElementById('download-pdf').addEventListener('click', function () {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    html2canvas(document.getElementById("poster")).then(function (canvas) {
        const imgData = canvas.toDataURL('image/png');
        doc.addImage(imgData, 'PNG', 10, 10, 180, 160);
        doc.save("election_poster.pdf");
    });
});
    </script>
</body>

</html>
